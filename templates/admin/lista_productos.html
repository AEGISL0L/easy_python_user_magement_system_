<!--
Renders the admin page for listing all products.

This template extends the base.html template and provides a table view of all
products in the system. Each product is displayed with its ID, name, and
current state. The user can click the "Cambiar Estado" button to change the
state of the product.

The template expects a `productos` variable to be passed in, which should be a
list of `Producto` objects.
-->

{% extends "base.html" %}

{% block title %}Lista de Productos{% endblock %}

{% block content %}
<h2>Productos</h2>
<table class="table">
    <thead>
        <tr>
            <th>ID</th>
            <th>Nombre</th>
            <th>Estado</th>
            <th>Acciones</th>
        </tr>
    </thead>
    <tbody>
        {% for producto in productos %}
        <tr>
            <td>{{ producto.id }}</td>
            <td>{{ producto.nombre }}</td>
            <td>{{ producto.estado.nombre }}</td>
            <td>
                <a href="{{ url_for('cambiar_estado_producto', producto_id=producto.id) }}" 
                   class="btn btn-primary btn-sm">Cambiar Estado</a>
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% endblock %}